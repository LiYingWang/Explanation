---
author: Liying Wang
title:" Examining the topic of social inequality in archaeology: An quantitative approach"
output: html_document
---

### Introduction

Social inequality refers to power relation and principle of hierarchical structure in human society, and serves as a model of explanation for prehistoric complex societies. In addition to social inequality, social complexity is a broader topic for research the development of social organization; however, social inequality provides a more anthropological way to examine the mechanism of complex societies compared to social complexity. The development of social inequality can reflect different theoretical approaches to archaeology.  In addition, the explanatory model of social inequality is usually associated with some causes that lead to complex societies, for example, culture contact. The culture contact as a cause for social inequality might shows different patterns of popularity both in temporal and spatial scale.  

The development of the explanatory model of social inequality, the relationship between social inequality and culture contact, and the archaeological evidence relates to this model will be my research subjects.  In order to test the development of social inequality based on above claims, I will explore the model of explanation of "social inequality" in archaeology by using R as a quantitative method. I will investigate how is the development of this model based on a large sample of archaeological literature over 50 years. My research questions for this project as following:  

1. What is the trend of the explanatory model of social inequality in archaeology in the past decades? Is it popular at any particular time?

2. How often social inequality relates to culture contact? Especially for European contact.  Also, does any area show preference of such research, such as America, Asia, Oceania, or Africa?    

3. For the interpretation, what is the relationship between the term "inequality" and other archaeological evidence, including burials, ceramics, household, and glass beads.

```{r setup, echo=FALSE}
knitr::opts_chunk$set(echo=FALSE, message=FALSE, cache=TRUE, warning=FALSE)
```

```{r data_input}
library(JSTORr)
# multiple_archives <- JSTOR_unpack_multiple_archives(mydir = "data/one_gram")
# save(multiple_archives, file= "data/one_gram/multiple_archives.RData" 
load("data/one_gram/multiple_archives.RData")
# library(devtools)
# download and install the package (do this only once ever per computer)
# install_github("benmarwick/JSTORr")
```

```{r load_data_bigram}
# setwd("data/two_gram")
# bigrams <- JSTOR_unpack2grams()
# save(bigrams, file = "bigrams.RData")
load("data/two_gram/bigrams.RData")
```

```{r subset_data, results='hide'}
nouns_Asia <- JSTOR_dtmofnouns(multiple_archives, word = "asia", sparse =1, POStag = TRUE)
nouns_Ame <- JSTOR_dtmofnouns(multiple_archives, word = "america", sparse =1, POStag = TRUE)
nouns_Oce <- JSTOR_dtmofnouns(multiple_archives, word = "oceania", sparse =1, POStag = TRUE)
nouns_Afr <- JSTOR_dtmofnouns(multiple_archives, word = "africa", sparse =1, POStag = TRUE)
```

For the first question of the trend of social inequality, the plots show that the topic of inequality becomes common after maybe 1992, and then has became popular around 2006. The term "social" is commoner than the term "inequality". I think the reason is that this term "social" is too general. The third graph shows that social and inequality were decussated together after 1978, but slightly goes down around 1986, and then popular again from 1994. Based on the results, I can further explore the exact articles with the word inequality.  

The article with strongest correlation of the relationship of "social" and "inequality" as following:
Sandra Montón Subías, 2007, Interpreting Archaeological Continuities: An Approach to Transversal Equality in the Argaric Bronze Age of South-East Iberia. World Archaeology, Vol. 39, No. 2, The Archaeology of Equality, pp. 246-262. Taylor & Francis, Ltd 

```{r onegram}
# one word over time
inequality <- JSTOR_1word(multiple_archives, "inequality")
inequality$plot
inequality_tbl <- inequality$word_by_year
inequality_tbl[which.max(inequality_tbl$word_by_year), ]
# two words over time
two_soc_ine <- JSTOR_2words(multiple_archives, "social", "inequality")
two_soc_ine$plot
two_soc_ine_tbl <- two_soc_ine$words_by_year
two_soc_ine_tbl[which.max(two_soc_ine_tbl$value), ]
# correlation of words over time
cor_soc_ine <- JSTOR_2wordcor(multiple_archives, "social", "inequality")
cor_soc_ine$plot
soc_ine_paper <- two_soc_ine_tbl[(two_soc_ine_tbl$year == 2007), ]
soc_ine_paper[which.max(soc_ine_paper$value), ]
```

If I use "social inequality" as a term, the plots shows that such discussion only exists after 1978, becomes popular around 2000, and slightly goes down at 2002. In archaeology, social inequality is one of the indexes for social complexity. Therefore, I will also examine the discussion of social complexity in order to have a general understanding of such topic. The discussion of "social complexity" begins from 1947, becomes popular at around 1978, slightly goes down at 1990 and 2006, and then popular again at 2010. It seems like there is not big change in the discussion of these two terms. If we examine these two terms over time, the plot shows that they have different pattern of frequency. When social inequality was frequently discusses, the frequency of social complexity becomes lower. This might indicates the terms of social inequality and social complexity might have some pattern of relationship, which is to some extent mutually exclusive. Social inequality could be viewed as more specific approach to social complexity. 

```{r bigrams1}
# one word over time
social_inequality <- JSTOR_1bigram(bigrams, "social inequality")
social_inequality
social_inequality_tbl <- social_inequality$data
social_inequality_tbl[which.max(social_inequality_tbl$bigram_ratio), ]
bi_socialcomplexity <- JSTOR_1bigram(bigrams, "social complexity")
bi_socialcomplexity
# correlation of words over time
bi_ineq_comp <- JSTOR_2bigrams(bigrams, "social inequality", "social complexity")
```

For the second question about the correlation between social inequality and European contact, the plot of two terms shows that there is a similar trend before 1994, but after 1994 there is no clear pattern shows the relationship. When we further examine the correlation between these two terms, the plot indicates that there is only an article shows the relatively strong correlation at 1986. In addition to European contact, I also examine the correlation between social inequality and social complexity. The plot shows that they are strongly correlated at 1987, 1998, and 2007, which shows the periodic pattern of discussion. This plot also explains the pattern in the former plot of word frequency over time.

```{r bigrams}
# two words over timw
bi_ineq_euro <- JSTOR_2bigrams(bigrams, "social inequality", "european contact")
bi_ineq_euro
# correlation of words over time
bicor_ineq_euro <- JSTOR_2bigramscor(bigrams, "social inequality", "european contact")
bicor_ineq_euro
bicor_comp_ineq <- JSTOR_2bigramscor(bigrams, "social complexity", "social inequality")
bicor_comp_ineq
```

I further examine the topic of inequality in terms of different areas, such as Asia, Oceania, America, and Africa. The results show that in Asia, most articles contain inequality exist after 1978, and the term reached the highest frequency at 2004, but declined later at 2009. For Oceania, the trend shows there are two periods with higher frequency, which are 1996 and 2004. For America, there are more articles refer to inequality, and this term was popular around 2005. The pattern of frequency in Africa looks similar to the pattern in America, and also shows the highest frequency at 2005. Although these four plots have different trends of the frequency of inequality, it seems this term was popular between 2004 and 2005 among these different areas.   


```{r subset_data2, results='hide'}
# subset the data to different area for PCA
Asi_data <- JSTOR_subset1grams(multiple_archives,"asia")
Oce_data <- JSTOR_subset1grams(multiple_archives,"oceania")
Ame_data <- JSTOR_subset1grams(multiple_archives,"america")
Afr_data <- JSTOR_subset1grams(multiple_archives,"africa")
```

```{r onegram1}
# one word, inequality, in different area
ineq_Asi <- JSTOR_1word(Asi_data, "inequality")
ineq_Oce <- JSTOR_1word(Oce_data, "inequality")
ineq_Ame <- JSTOR_1word(Ame_data, "inequality")
ineq_Afr <- JSTOR_1word(Afr_data, "inequality")
```

For the third questions, these plots show the relationship between the term 'inequality' and other archaeological evidence, including beads, burials, and pottery. For the beads, it indicates that a couple of articles have strong positive correlation around 1990. In addition, there is no much discussion until 1976. For the burials, it also shows that the discussion of burial and inequality become common after the publication of the article in 1976. Besides, is seems the articles could be divided into two groups according to the extent of correlation. For the pottery, there is no clear correlation until 2006. After 2006, some articles show the positive correlation. 

```{r onegram2}
# correlation of inequality and evidence over time
cor_ineq_buri <- JSTOR_2wordcor(multiple_archives, "burial", "inequality")
cor_ineq_buri$plot
cor_ineq_pot <- JSTOR_2wordcor(multiple_archives, "pottery", "inequality")
cor_ineq_pot$plot
cor_ineq_bead <- JSTOR_2wordcor(multiple_archives, "bead", "inequality")
cor_ineq_bead$plot
cor_ineq_house <- JSTOR_2wordcor(multiple_archives, "house", "inequality")
cor_ineq_house$plot
```

The frequency of words containing “inequality” shows that the focus changes with time. The focus of paper shift from population, organization, and mound to ritual, power and pottery, which indicates there is a trend of anthropological thinking from 2006. Besdies, The term settlement could be observed in each period from 1996 until now, and it becomes more popular over time. 

```{r onegram4, eval= TRUE, results= 'hide'}
ineq_nouns <- JSTOR_dtmofnouns(multiple_archives, word = 'inequality', sparse =1, POStag = TRUE)
com_nouns <- JSTOR_dtmofnouns(multiple_archives, word = 'complexity', sparse =1, POStag = TRUE)
```

```{r onegram5, eval= TRUE, results= 'hide'}
# Top words containing 'inequality' over time
# exclude some irrelevant words
custom_stopwords <- c('archaeology', 'university', 'research', 'evidence', 'journal', 'world', 'site', 'cambridge', 'archaeol', 'area', 'region', 'period', 'analysis', 'anthropology', 'springer', 'production', 'figure', 'work', 'world', 'concept', 'human', 'middle', 'altamira', 'culture', 'record', 'citation', 'discipline', 'author', 'proportion', 'literature', 'report', 'approach', 'cambridge' )
ineq_freqwords <- JSTOR_freqwords(multiple_archives, ineq_nouns, custom_stopwords, n = 5)
com_freqwords <- JSTOR_freqwords(multiple_archives, com_nouns, custom_stopwords, n = 5)
```

TBA

```{r onegram3, eval= FALSE, results='hide'}
# subset samples
nouns <- JSTOR_dtmofnouns(multiple_archives, word = NULL, sparse =1, POStag = TRUE)
```

```{r various_pca, eval= FALSE}
# Principal component analysis for articles containing inequality
PCA_inequality <- JSTOR_clusterbywords(nouns, "inequality", f = 0.005)
PCA_inequality_Asia <- JSTOR_clusterbywords(nouns_Asia, "inequality", f = 0.005)
PCA_inequality_Ame <- JSTOR_clusterbywords(nouns_Ame, "inequality", f = 0.005)
PCA_inequality_Oce <- JSTOR_clusterbywords(nouns_Oce, "inequality", f = 0.005)
PCA_inequality_Afr <- JSTOR_clusterbywords(nouns_Afr, "inequality", f = 0.005)
```

```{r various_pca2, eval= FALSE}
PCA_inequality$p
PCA_inequality$q
PCA_inequality_Asia$P
PCA_inequality_Asia$q
PCA_inequality_Ame$P
PCA_inequality_Ame$q
PCA_inequality_Oce$P
PCA_inequality_Oce$q
```
